<!DOCTYPE html>
<html lang="en" class="u-background-color-dark">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Log</title>
    <meta name="description" content="TFT start screen">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    {# css #}
    <link rel="stylesheet" href="{{ url_for("static", filename="css/normalize.css") }}">
    <link rel="stylesheet" href="{{ url_for("static", filename="css/screen.css") }}">
</head>
<body class="u-color-light u-background-color-dark">
    <h1 class="js-go-back u-fixed u-circle-background u-background-color-neutral">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
        </svg>
    </h1>
    <p id="output">Getting data from logfile... </p>
    <script>
        let output = document.querySelector('#output');

        let xhr = new XMLHttpRequest();
        xhr.open('GET', '{{ url_for('getlog') }}');
        xhr.send();

        setInterval(function() {
            output.textContent = xhr.responseText;
        }, 1000);

        let arrow_back = document.querySelector('.js-go-back');
        arrow_back.addEventListener('click', function () {
            window.history.back();
        }, false);
    </script>
</body>
</html>